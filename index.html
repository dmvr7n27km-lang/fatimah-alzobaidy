<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¨Ø¯Ø¹Ø© Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ - ÙØ§Ø·Ù…Ø© Ø§Ù„Ø²Ø¨ÙŠØ¯ÙŠ</title>
    <style>
        :root { --main-bg: #f8faff; --primary-teal: #00897b; --pink-accent: #e91e63; --blue-soft: #1e88e5; }
        body { background-color: var(--main-bg); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        
        /* Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        #login-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 100; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        .login-card { width: 85%; padding: 30px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border: 1px solid #eee; }
        .input-name { width: 100%; padding: 15px; margin: 20px 0; border: 2px solid #ddd; border-radius: 15px; font-size: 18px; text-align: center; outline: none; transition: 0.3s; }
        .input-name:focus { border-color: var(--pink-accent); }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ */
        .top-header { background: linear-gradient(to bottom, #26a69a, var(--primary-teal)); width: 100%; padding: 30px 0 60px 0; color: white; text-align: center; border-bottom-left-radius: 35px; border-bottom-right-radius: 35px; }
        .student-welcome { font-size: 16px; margin-top: 5px; background: rgba(255,255,255,0.2); display: inline-block; padding: 5px 15px; border-radius: 20px; }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
        .stats-container { background: white; width: 90%; margin: -40px 0 20px 0; border-radius: 20px; display: flex; justify-content: space-around; padding: 20px 0; box-shadow: 0 8px 20px rgba(0,0,0,0.08); z-index: 10; }
        .stat-box { text-align: center; width: 33%; border-left: 1px solid #f0f0f0; }
        .stat-box:last-child { border-left: none; }
        .stat-val { display: block; font-size: 24px; font-weight: 900; color: #fb8c00; }
        .stat-lbl { font-size: 12px; color: #666; font-weight: bold; margin-top: 5px; }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯Ø±ÙˆØ³ */
        .section-title { width: 90%; text-align: right; margin: 15px 0; font-size: 22px; font-weight: bold; color: #37474f; display: flex; align-items: center; justify-content: flex-end; }
        .lessons-list { width: 95%; display: flex; flex-direction: column; gap: 12px; padding-bottom: 30px; }
        .lesson-card { background: white; border-radius: 20px; padding: 18px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; box-shadow: 0 3px 10px rgba(0,0,0,0.04); border: 1px solid #f0f0f0; }
        .lesson-icon { width: 55px; height: 55px; border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 28px; }
        .lesson-info { text-align: right; flex-grow: 1; margin-right: 15px; }
        .lesson-name { font-size: 17px; font-weight: 900; color: #333; }
        .lesson-meta { font-size: 12px; color: #999; margin-top: 3px; }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø±Ø³ */
        .screen { width: 100%; display: none; flex-direction: column; align-items: center; padding-bottom: 40px; }
        .active-screen { display: flex; }
        .reading-box { background: white; width: 90%; padding: 20px; border-radius: 20px; margin: 20px 0; border-right: 8px solid var(--pink-accent); box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        
        /* Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø© */
        .option-item { background: #fff; border: 2px solid #eaeff5; padding: 16px; margin: 10px 0; border-radius: 18px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; font-weight: bold; width: 90%; transition: 0.2s; }
        .option-circle { width: 32px; height: 32px; border: 2px solid #444; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; }
        .correct { background: #e8f5e9 !important; border-color: #4caf50 !important; color: #2e7d32; }
        .wrong { background: #ffebee !important; border-color: #f44336 !important; color: #c62828; }

        .btn-main { background: var(--pink-accent); color: white; border: none; padding: 15px 40px; border-radius: 30px; font-size: 18px; font-weight: bold; cursor: pointer; width: 80%; }
        .header-fixed { position: sticky; top: 0; width: 100%; background: white; padding: 10px; text-align: center; border-bottom: 1px solid #eee; z-index: 50; display: flex; justify-content: space-between; align-items: center; }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-card">
            <h2 style="color: var(--primary-teal);">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ ÙÙŠ Ù…Ù†ØµØ© Ø§Ù„Ù…Ø¨Ø¯Ø¹Ø§Øª ğŸŒ¸</h2>
            <p>ÙØ¶Ù„Ø§Ù‹ Ø§ÙƒØªØ¨ÙŠ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ù„Ù„Ø¨Ø¯Ø¡:</p>
            <input type="text" id="student-name-input" class="input-name" placeholder="Ù…Ø«Ø§Ù„: Ø³Ø§Ø±Ø© Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ">
            <button class="btn-main" onclick="startApp()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸš€</button>
        </div>
    </div>

    <div id="home-screen" class="screen">
        <div class="top-header">
            <h2 id="welcome-msg">Ù…ÙØ¨Ø¯Ø¹Ø© Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ</h2>
            <div class="student-welcome" id="display-name">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨Ø©: ...</div>
            <p style="font-size: 12px; margin-top: 10px; opacity: 0.9;">Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: ÙØ§Ø·Ù…Ø© Ø­Ø³Ù† Ø§Ù„Ø²Ø¨ÙŠØ¯ÙŠ</p>
        </div>
        
        <div class="stats-container">
            <div class="stat-box"><span class="stat-val" id="stars-count">0 â­</span><span class="stat-lbl">Ø§Ù„Ù†Ø¬ÙˆÙ…</span></div>
            <div class="stat-box"><span class="stat-val" id="completed-count">0</span><span class="stat-lbl">ØªÙ… Ø¥Ù†Ø¬Ø§Ø²Ù‡Ø§</span></div>
            <div class="stat-box"><span class="stat-val">5</span><span class="stat-lbl">Ø¯Ø±ÙˆØ³ Ù…ØªØ§Ø­Ø©</span></div>
        </div>

        <div class="section-title">Ø§Ø®ØªØ± Ø§Ù„Ø¯Ø±Ø³ â¬…ï¸</div>

        <div class="lessons-list">
            <div class="lesson-card" onclick="openLesson('lesson1')">
                <div class="lesson-icon" style="background: #e3f2fd; color: #2196f3;">ğŸ”</div>
                <div class="lesson-info">
                    <div class="lesson-name">Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø­Ù„ Ù…Ø³Ø£Ù„Ø© Ø£Ø¨Ø³Ø·</div>
                    <div class="lesson-meta">Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù† 3 Ø£Ø³Ø¦Ù„Ø©</div>
                </div>
            </div>
            <div class="lesson-card" onclick="openLesson('lesson2')">
                <div class="lesson-icon" style="background: #e8f5e9; color: #4caf50;">ğŸ¯</div>
                <div class="lesson-info">
                    <div class="lesson-name">Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„ØªØ®Ù…ÙŠÙ† ÙˆØ§Ù„ØªØ­Ù‚Ù‚</div>
                    <div class="lesson-meta">Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù† 3 Ø£Ø³Ø¦Ù„Ø©</div>
                </div>
            </div>
        </div>
    </div>

    <div id="lesson-screen" class="screen">
        <div class="header-fixed">
            <button onclick="goHome()" style="border:none; background:none; font-size:20px; cursor:pointer;">ğŸ </button>
            <div id="current-student-top" style="font-weight:bold; color:var(--pink-accent);"></div>
            <div id="q-progress" style="font-size:12px; color:#666;">Ø§Ù„Ø³Ø¤Ø§Ù„ 1 / 3</div>
        </div>

        <div class="reading-box" id="reading-content"></div>
        <div id="questions-area" style="width: 100%; display: flex; flex-direction: column; align-items: center;"></div>
    </div>

    <script>
        let stars = 0;
        let completed = 0;
        let studentName = "";
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function startApp() {
            const input = document.getElementById('student-name-input').value;
            if(input.length < 3) { alert("Ù…Ù† ÙØ¶Ù„ÙƒÙ Ø§ÙƒØªØ¨ÙŠ Ø§Ø³Ù…ÙƒÙ ÙƒØ§Ù…Ù„Ø§Ù‹."); return; }
            studentName = input;
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('home-screen').classList.add('active-screen');
            document.getElementById('display-name').innerText = "Ø§Ù„Ù…Ø¨Ø¯Ø¹Ø©: " + studentName;
            document.getElementById('current-student-top').innerText = studentName;
        }

        function playSound(isWin) {
            const osc = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            osc.connect(g); g.connect(audioCtx.destination);
            osc.frequency.setValueAtTime(isWin ? 600 : 200, audioCtx.currentTime);
            if(isWin) osc.frequency.exponentialRampToValueAtTime(900, audioCtx.currentTime + 0.1);
            g.gain.setValueAtTime(0.1, audioCtx.currentTime);
            osc.start(); osc.stop(audioCtx.currentTime + 0.3);
        }

        function openLesson(lessonId) {
            document.getElementById('home-screen').classList.remove('active-screen');
            document.getElementById('lesson-screen').classList.add('active-screen');
            loadLesson(lessonId);
        }

        function goHome() {
            document.getElementById('lesson-screen').classList.remove('active-screen');
            document.getElementById('home-screen').classList.add('active-screen');
            document.getElementById('stars-count').innerText = stars + " â­";
            document.getElementById('completed-count').innerText = completed;
        }

        function loadLesson(id) {
            if(id === 'lesson1') {
                document.getElementById('reading-content').innerHTML = `<b>ğŸ“– Ù†Øµ Ø§Ù„Ù…Ø³Ø£Ù„Ø©:</b><br>ÙˆØ¶Ø¹ Ø§Ù„Ø·Ù„Ø§Ø¨ ÙÙŠ Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ <b>3 ÙˆØ±Ø¯Ø§Øª</b>ØŒ ÙˆÙÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠ <b>5</b>ØŒ ÙˆÙÙŠ Ø§Ù„Ø«Ø§Ù„Ø« <b>7</b>. ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ÙˆØ±ÙˆØ¯ ÙÙŠ Ø§Ù„ØµÙ Ø§Ù„Ø¹Ø§Ø´Ø±ØŸ`;
                showQuestion(1);
            }
        }

        function showQuestion(qNum) {
            document.getElementById('q-progress').innerText = `Ø§Ù„Ø³Ø¤Ø§Ù„ ${qNum} / 2`;
            let html = '';
            if(qNum === 1) {
                html = `<div style="width:90%; font-weight:bold; margin-bottom:10px;">1ï¸âƒ£ Ù…Ø§ Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©ØŸ</div>
                    <div class="option-item" onclick="handleAns(this, true, 2)">Ø¨) ØªØªØ§Ø¨Ø¹ Ø¹Ø¯Ø¯ Ø§Ù„ÙˆØ±ÙˆØ¯ (3ØŒ 5ØŒ 7) <div class="option-circle">Ø£</div></div>
                    <div class="option-item" onclick="handleAns(this, false, 1)">Ø£) Ù„ÙˆÙ† Ø§Ù„ÙˆØ±ÙˆØ¯ <div class="option-circle">Ø¨</div></div>`;
            } else if(qNum === 2) {
                html = `<div style="width:90%; font-weight:bold; margin-bottom:10px;">2ï¸âƒ£ Ù…Ø§ Ø§Ù„Ø­Ù„ Ø§Ù„ØµØ­ÙŠØ­ØŸ</div>
                    <div class="option-item" onclick="handleAns(this, true, 'finish')">Ø£) 21 ÙˆØ±Ø¯Ø© <div class="option-circle">Ø£</div></div>
                    <div class="option-item" onclick="handleAns(this, false, 2)">Ø¨) 20 ÙˆØ±Ø¯Ø© <div class="option-circle">Ø¨</div></div>`;
            }
            document.getElementById('questions-area').innerHTML = html;
        }

        function handleAns(el, isCorrect, next) {
            if(isCorrect) {
                playSound(true);
                el.classList.add('correct');
                stars += 10;
                setTimeout(() => {
                    if(next === 'finish') { 
                        completed++; 
                        alert(`Ù…Ø¨Ø§Ø±Ùƒ ÙŠØ§ ${studentName}! Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…ØªÙ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­ âœ…`); 
                        goHome(); 
                    } else showQuestion(next);
                }, 800);
            } else {
                playSound(false);
                el.classList.add('wrong');
                setTimeout(() => el.classList.remove('wrong'), 800);
            }
        }
    </script>
</body>
</html>
