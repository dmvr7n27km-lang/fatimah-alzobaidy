<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¨Ø¯Ø¹Ø© Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ - ÙØ§Ø·Ù…Ø© Ø§Ù„Ø²Ø¨ÙŠØ¯ÙŠ</title>
    <style>
        :root { --primary-pink: #e91e63; --soft-purple: #9c27b0; --bg-gradient: linear-gradient(135deg, #fff0f5 0%, #f3e5f5 100%); }
        body { background: var(--bg-gradient); font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }

        .reading-box { 
            background: white; 
            width: 94%; 
            padding: 30px; 
            border-radius: 25px; 
            margin: 20px 0; 
            border-right: 12px solid var(--primary-pink); 
            box-shadow: 0 6px 20px rgba(0,0,0,0.1); 
            text-align: right; 
            line-height: 2; 
            font-size: 20px; 
            color: #2c3e50; 
            box-sizing: border-box; 
        }

        .q-card { width: 94%; background: white; padding: 25px; border-radius: 25px; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); box-sizing: border-box; }
        .option { background: #fdfdfd; border: 2px solid #f0f0f0; padding: 18px; margin: 12px 0; border-radius: 18px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; font-weight: bold; font-size: 18px; }
        .circle { width: 38px; height: 38px; border: 2px solid #444; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
        
        .correct { background: #e8f5e9 !important; border-color: #4caf50 !important; color: #2e7d32; }
        .wrong { background: #ffebee !important; border-color: #f44336 !important; color: #c62828; }

        .stats-bar { display: flex; justify-content: space-around; background: white; width: 94%; padding: 15px 0; border-radius: 25px; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .stat-num { display: block; font-size: 24px; font-weight: 900; color: #fb8c00; }

        #explanation-box { display: none; background: #e3f2fd; border: 2px solid #2196f3; padding: 20px; border-radius: 20px; margin: 15px 0; width: 94%; font-size: 17px; color: #0d47a1; line-height: 1.7; box-sizing: border-box; }
        .btn-next { background: #2196f3; color: white; border: none; padding: 18px 40px; border-radius: 35px; font-weight: bold; cursor: pointer; display: none; width: 85%; font-size: 18px; }

        .official-header { width: 100%; text-align: right; padding: 15px; font-size: 13px; font-weight: bold; color: #4a235a; }
        .main-card { background: white; width: 94%; padding: 25px; border-radius: 25px; text-align: center; border: 1px solid #ffd1dc; margin-bottom: 20px; }
    </style>
</head>
<body>

    <div id="main-menu" class="active-screen screen" style="display: flex; flex-direction: column; align-items: center; width: 100%;">
        <div class="official-header">Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© | ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ… | Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø¨Ø§Ù„Ù„ÙŠØ«</div>
        <div class="main-card">
            <h1>ğŸŒ¸ Ù…ÙØ¨Ø¯Ø¹Ø© Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ ğŸŒ¸</h1>
            <div style="color:var(--primary-pink); font-weight:bold;">Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: ÙØ§Ø·Ù…Ø© Ø­Ø³Ù† Ø§Ù„Ø²Ø¨ÙŠØ¯ÙŠ</div>
        </div>
        <div class="stats-bar">
            <div><span class="stat-num" id="stars-display">0 â­</span><span>Ø§Ù„Ù†Ø¬ÙˆÙ…</span></div>
            <div><span class="stat-num" id="done-display">0</span><span>Ø¥Ù†Ø¬Ø§Ø²</span></div>
        </div>
        <button onclick="startLesson('takhmeen')" style="width:90%; padding:18px; background:white; border:2px solid #ffc1e3; border-radius:20px; font-size:18px; font-weight:bold; color:#5c3b8a; cursor:pointer; margin-bottom:12px;">ğŸ¯ Ø¯Ø±Ø³ Ø§Ù„ØªØ®Ù…ÙŠÙ† ÙˆØ§Ù„ØªØ­Ù‚Ù‚</button>
        <button onclick="startLesson('namat')" style="width:90%; padding:18px; background:white; border:2px solid #ffc1e3; border-radius:20px; font-size:18px; font-weight:bold; color:#5c3b8a; cursor:pointer;">ğŸ” Ø¯Ø±Ø³ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù†Ù…Ø·</button>
    </div>

    <div id="lesson-screen" class="screen" style="display: none; flex-direction: column; align-items: center; width: 100%;">
        <div class="reading-box" id="reading-text"></div>
        <div id="q-container" style="width:100%; display:flex; flex-direction:column; align-items:center;"></div>
        <div id="explanation-box"></div>
        <button id="btn-next" class="btn-next" onclick="nextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â¬…ï¸</button>
    </div>

    <script>
        let stars = parseInt(localStorage.getItem('stars')) || 0;
        let completed = parseInt(localStorage.getItem('completed')) || 0;
        let currentLesson = ''; let currentQ = 1;

        document.getElementById('stars-display').innerText = stars + " â­";
        document.getElementById('done-display').innerText = completed;

        function startLesson(id) {
            currentLesson = id;
            document.getElementById('main-menu').style.display = 'none';
            document.getElementById('lesson-screen').style.display = 'flex';
            loadLesson();
        }

        function loadLesson() {
            const rt = document.getElementById('reading-text');
            if(currentLesson === 'takhmeen') {
                rt.innerHTML = `<h3 style="color:var(--soft-purple); margin-top:0;">ğŸ“– Ù‚ØµØ© Ø³Ø§Ø±Ø© ÙˆØ§Ù„Ù…ÙƒØªØ¨Ø©:</h3> 
                Ø§Ø´ØªØ±Øª Ø³Ø§Ø±Ø© ÙƒØªØ§Ø¨ÙŠÙ† Ø¨Ù…Ø¨Ù„Øº <b>45 Ø±ÙŠØ§Ù„Ø§Ù‹</b>. Ø¥Ø°Ø§ ÙƒØ§Ù† Ø«Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ø£ÙˆÙ„ ÙŠØ²ÙŠØ¯ Ø¹Ù† Ø«Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø¨Ù…Ù‚Ø¯Ø§Ø± <b>9 Ø±ÙŠØ§Ù„Ø§Øª</b>. Ù‚Ø±Ø±Øª Ø³Ø§Ø±Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© <b>Ø§Ù„ØªØ®Ù…ÙŠÙ† ÙˆØ§Ù„ØªØ­Ù‚Ù‚</b> Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø­Ù„ Ø§Ù„ØµØ­ÙŠØ­ ÙˆÙ…Ø¹Ø±ÙØ© Ø«Ù…Ù† ÙƒÙ„ ÙƒØªØ§Ø¨.`;
            } else {
                rt.innerHTML = `<h3 style="color:var(--soft-purple); margin-top:0;">ğŸ“– Ù‚ØµØ© Ù†ÙˆØ±Ø© ÙˆØ§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©:</h3> 
                ØªØªØ¯Ø±Ø¨ Ù†ÙˆØ±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©Ø› ÙØ¥Ø°Ø§ Ù‚Ø±Ø£Øª ÙÙŠ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø£ÙˆÙ„ <b>ØµÙØ­ØªÙŠÙ†</b>ØŒ ÙˆÙÙŠ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø«Ø§Ù†ÙŠ <b>5 ØµÙØ­Ø§Øª</b>ØŒ ÙˆÙÙŠ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø«Ø§Ù„Ø« <b>9 ØµÙØ­Ø§Øª</b>ØŒ ÙˆÙÙŠ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø±Ø§Ø¨Ø¹ <b>14 ØµÙØ­Ø©</b>. Ø¥Ø°Ø§ Ø§Ø³ØªÙ…Ø±Øª Ù†ÙˆØ±Ø© ÙÙŠ Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„ØµÙØ­Ø§Øª Ø¨Ù†Ù…Ø· Ù…Ø¹ÙŠÙ†ØŒ ÙØ³Ø§Ø¹Ø¯ÙŠÙ‡Ø§ Ù„Ù…Ø¹Ø±ÙØ© Ø¹Ø¯Ø¯ Ø§Ù„ØµÙØ­Ø§Øª ÙÙŠ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø³Ø§Ø¯Ø³.`;
            }
            loadQuestion(1);
        }

        function loadQuestion(num) {
            currentQ = num;
            const cont = document.getElementById('q-container');
            document.getElementById('explanation-box').style.display = 'none';
            document.getElementById('btn-next').style.display = 'none';

            if(currentLesson === 'takhmeen') {
                if(num === 1) renderQ("1ï¸âƒ£ Ù…Ø§ Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª (Ø§Ù„Ø­Ù‚Ø§Ø¦Ù‚ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©) ÙÙŠ Ø§Ù„Ù†ØµØŸ", ["Ø³Ø§Ø±Ø© ØªØ­Ø¨ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙÙŠ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©", "Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ 45 ÙˆØ§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ†Ù‡Ù…Ø§ 9 Ø±ÙŠØ§Ù„Ø§Øª", "Ø³Ø¹Ø± Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ø£ÙˆÙ„ 45 Ø±ÙŠØ§Ù„Ø§Ù‹", "Ø§Ù„Ù…ÙƒØªØ¨Ø© Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† Ù…Ù†Ø²Ù„ Ø³Ø§Ø±Ø©"], 1, "Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª Ù‡ÙŠ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØªÙŠ Ø³Ù†Ø¨Ù†ÙŠ Ø¹Ù„ÙŠÙ‡Ø§ Ø§Ù„Ø­Ù„ØŒ ÙˆÙ‡ÙŠ Ù‡Ù†Ø§ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ù„Øº 45 ÙˆØ§Ù„ÙØ±Ù‚ 9.");
                else if(num === 2) renderQ("2ï¸âƒ£ Ù…Ø§ Ø§Ù„ØªØ®Ù…ÙŠÙ† Ø§Ù„ØµØ­ÙŠØ­ Ù„Ø«Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨ÙŠÙ† (Ø§Ù„Ø£ÙˆÙ„ØŒ Ø§Ù„Ø«Ø§Ù†ÙŠ)ØŸ", ["(25 ØŒ 20) Ù„Ø£Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ 45", "(30 ØŒ 15) Ù„Ø£Ù† Ø§Ù„ÙØ±Ù‚ 15", "(27 ØŒ 18) Ù„Ø£Ù† Ù…Ø¬Ù…ÙˆØ¹Ù‡Ù… 45 ÙˆÙØ±Ù‚Ù‡Ù… 9", "(28 ØŒ 17) Ù„Ø£Ù† Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ†Ù‡Ù…Ø§ 11"], 2, "Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± ØµØ­ÙŠØ­ Ù„Ø£Ù† 27 + 18 = 45 (Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹) Ùˆ 27 - 18 = 9 (Ø§Ù„ÙØ±Ù‚).");
                else if(num === 3) renderQ("3ï¸âƒ£ ÙƒÙŠÙ Ù†ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø­Ù„ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©ØŸ", ["Ù†Ø¬Ù…Ø¹ ÙˆÙ†Ø·Ø±Ø­ Ø§Ù„Ø¹Ø¯Ø¯ÙŠÙ† Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª", "Ù†Ø³Ø£Ù„ Ø§Ù„ØµØ¯ÙŠÙ‚Ø© Ø¹Ù† Ø±Ø£ÙŠÙ‡Ø§", "Ù†Ø®Ù…Ù† Ø£Ø±Ù‚Ø§Ù…Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©", "Ù†Ù†ØªØ¸Ø± ØªØµØ­ÙŠØ­ Ø§Ù„Ù…Ø¹Ù„Ù…Ø©"], 0, "Ø§Ù„ØªØ­Ù‚Ù‚ ÙŠÙƒÙˆÙ† Ø¨Ø¬Ù…Ø¹ Ø§Ù„Ø¹Ø¯Ø¯ÙŠÙ† (27+18=45) ÙˆØ·Ø±Ø­Ù‡Ù…Ø§ (27-18=9) Ù„Ø¶Ù…Ø§Ù† Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ù†Øµ.");
            } else {
                if(num === 1) renderQ("1ï¸âƒ£ Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª (Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª) Ø§Ù„ØªÙŠ ÙˆØ±Ø¯Øª ÙÙŠ Ø§Ù„Ù†ØµØŸ", ["Ù†ÙˆØ±Ø© ØªØ­Ø¨ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚ØµØµ Ø§Ù„Ø®ÙŠØ§Ù„ÙŠØ©", "Ø¹Ø¯Ø¯ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„ØªÙŠ Ù‚Ø±Ø£ØªÙ‡Ø§ Ù†ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø±Ø¨Ø¹Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰", "Ø§Ø³Ù… Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ø°ÙŠ ØªÙ‚Ø±Ø£Ù‡ Ù†ÙˆØ±Ø©", "Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø°ÙŠ Ø§Ø³ØªØºØ±Ù‚ØªÙ‡ Ù†ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©"], 1, "Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ù‚Ø±Ø§Ø¦ÙŠ ÙŠØ¨Ø¯Ø£ Ø¨ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© (2ØŒ 5ØŒ 9ØŒ 14) Ù„Ù†Ø¨Ù†ÙŠ Ø¹Ù„ÙŠÙ‡Ø§ Ø§Ù„Ø­Ù„.");
                else if(num === 2) renderQ("2ï¸âƒ£ Ù…Ø§ Ù‡Ùˆ Ù…Ù‚Ø¯Ø§Ø± Ø§Ù„Ø²ÙŠØ§Ø¯Ø© ÙÙŠ Ø§Ù„Ù†Ù…Ø· Ø¨ÙŠÙ† Ø§Ù„Ø£ÙŠØ§Ù…ØŸ", ["Ø²ÙŠØ§Ø¯Ø© Ø«Ø§Ø¨ØªØ© Ø¨Ù…Ù‚Ø¯Ø§Ø± 3 ØµÙØ­Ø§Øª", "Ø²ÙŠØ§Ø¯Ø© Ù…ØªØºÙŠØ±Ø© (+3 Ø«Ù… +4 Ø«Ù… +5...)", "Ù†Ù‚Øµ Ø¨Ù…Ù‚Ø¯Ø§Ø± ØµÙØ­ØªÙŠÙ† ÙƒÙ„ ÙŠÙˆÙ…", "Ø¶Ø±Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„ØµÙØ­Ø§Øª ÙÙŠ 2"], 1, "Ù†Ù„Ø§Ø­Ø¸ Ø£Ù† Ù…Ù‚Ø¯Ø§Ø± Ø§Ù„Ø²ÙŠØ§Ø¯Ø© Ù†ÙØ³Ù‡ ÙŠØ²Ø¯Ø§Ø¯ ÙˆØ§Ø­Ø¯Ø§Ù‹ ÙÙŠ ÙƒÙ„ Ø®Ø·ÙˆØ© (Ù…Ù† 2 Ù„Ù€ 5 Ø²Ø§Ø¯ 3ØŒ ÙˆÙ…Ù† 5 Ù„Ù€ 9 Ø²Ø§Ø¯ 4).");
                else if(num === 3) renderQ("3ï¸âƒ£ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ù…Ø·ØŒ ÙƒÙ… ØµÙØ­Ø© Ø³ØªÙƒØªÙ…Ù„ Ù‚Ø±Ø§Ø¡ØªÙ‡Ø§ ÙÙŠ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø³Ø§Ø¯Ø³ØŸ", ["20 ØµÙØ­Ø©", "25 ØµÙØ­Ø©", "27 ØµÙØ­Ø©", "30 ØµÙØ­Ø©"], 2, "Ø§Ù„Ù†Ù…Ø· Ù‡Ùˆ: Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø®Ø§Ù…Ø³ (14+6=20)ØŒ ÙˆØ§Ù„ÙŠÙˆÙ… Ø§Ù„Ø³Ø§Ø¯Ø³ (20+7=27).");
            }
        }

        function renderQ(title, options, correctIdx, exp) {
            let html = `<div class="q-card"><b>${title}</b>`;
            const letters = ['Ø£', 'Ø¨', 'Ø¬', 'Ø¯'];
            options.forEach((opt, i) => {
                html += `<div class="option" onclick="check(this, ${i === correctIdx}, '${exp}')"><span>${opt}</span> <div class="circle">${letters[i]}</div></div>`;
            });
            document.getElementById('q-container').innerHTML = html + `</div>`;
        }

        function check(el, isCorrect, exp) {
            if(isCorrect) {
                el.classList.add('correct');
                stars += 3;
                localStorage.setItem('stars', stars);
                document.getElementById('stars-display').innerText = stars + " â­";
                document.getElementById('explanation-box').innerHTML = "ğŸ’¡ <b>Ù„Ù…Ø§Ø°Ø§ Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©ØŸ</b><br>" + exp;
                document.getElementById('explanation-box').style.display = 'block';
                document.getElementById('btn-next').style.display = 'block';
                document.querySelectorAll('.option').forEach(o => o.style.pointerEvents = 'none');
            } else {
                el.classList.add('wrong');
                setTimeout(() => el.classList.remove('wrong'), 800);
            }
        }

        function nextQuestion() {
            if(currentQ < 3) loadQuestion(currentQ + 1);
            else {
                completed++; localStorage.setItem('completed', completed);
                alert("Ù…Ø¨Ø§Ø±Ùƒ ÙŠØ§ Ù…Ø¨Ø¯Ø¹Ø©! ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯Ø±Ø³ Ø¨Ù†Ø¬Ø§Ø­."); location.reload();
            }
        }
    </script>
</body>
</html>
