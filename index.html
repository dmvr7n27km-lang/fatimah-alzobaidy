<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¨Ø¯Ø¹Ø© Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ - ÙØ§Ø·Ù…Ø© Ø§Ù„Ø²Ø¨ÙŠØ¯ÙŠ</title>
    <style>
        :root { --primary-pink: #e91e63; --soft-purple: #9c27b0; --bg-gradient: linear-gradient(135deg, #fff0f5 0%, #f3e5f5 100%); }
        body { background: var(--bg-gradient); font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }

        .official-header { width: 100%; text-align: right; padding: 15px 20px; font-size: 13px; font-weight: bold; color: #4a235a; line-height: 1.6; }
        .main-card { background: white; width: 90%; padding: 25px; border-radius: 25px; box-shadow: 0 10px 20px rgba(233,30,99,0.1); text-align: center; border: 1px solid #ffd1dc; margin-bottom: 20px; }
        
        .stats-bar { display: flex; justify-content: space-around; background: white; width: 90%; padding: 15px 0; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.03); margin-bottom: 25px; }
        .stat-num { display: block; font-size: 22px; font-weight: 900; color: #fb8c00; }
        .stat-label { font-size: 12px; color: #666; font-weight: bold; }

        .lesson-btn { background: white; width: 90%; padding: 18px; margin-bottom: 15px; border-radius: 20px; border: 2px solid #ffc1e3; display: flex; justify-content: space-between; align-items: center; cursor: pointer; font-weight: bold; color: #5c3b8a; }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø±Ø³ */
        .screen { width: 100%; display: none; flex-direction: column; align-items: center; }
        .active-screen { display: flex; }
        .reading-box { background: white; width: 90%; padding: 20px; border-radius: 20px; margin: 15px 0; border-right: 8px solid var(--primary-pink); box-shadow: 0 4px 12px rgba(0,0,0,0.05); text-align: right; line-height: 1.8; }
        
        .option { background: #f8f9fa; border: 2px solid #eee; padding: 14px; margin: 10px 0; border-radius: 15px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; font-weight: bold; }
        .circle { width: 32px; height: 32px; border: 2px solid #444; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; }
        
        .correct { background: #e8f5e9 !important; border-color: #4caf50 !important; color: #2e7d32; }
        .wrong { background: #ffebee !important; border-color: #f44336 !important; color: #c62828; }

        /* ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØªÙˆØ¶ÙŠØ­ */
        #explanation-box { display: none; background: #e3f2fd; border: 1px solid #2196f3; padding: 15px; border-radius: 15px; margin: 10px 0; width: 90%; font-size: 14px; color: #0d47a1; line-height: 1.6; animation: slideIn 0.5s; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        .btn-next { background: #2196f3; color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; margin-top: 10px; display: none; }
        .btn-action { background: var(--primary-pink); color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

    <div id="main-menu" class="active-screen screen">
        <div class="official-header">Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© | ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ… | Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø¨Ø§Ù„Ù„ÙŠØ«</div>
        <div class="main-card">
            <h1>ğŸŒ¸ Ù…ÙØ¨Ø¯Ø¹Ø© Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ ğŸŒ¸</h1>
            <div style="color:var(--primary-pink); font-weight:bold;">Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: ÙØ§Ø·Ù…Ø© Ø­Ø³Ù† Ø§Ù„Ø²Ø¨ÙŠØ¯ÙŠ</div>
        </div>
        <div class="stats-bar">
            <div class="stat-item"><span class="stat-num" id="stars-display">0 â­</span><span class="stat-label">Ø§Ù„Ù†Ø¬ÙˆÙ…</span></div>
            <div class="stat-item"><span class="stat-num" id="done-display">0</span><span class="stat-label">Ø¥Ù†Ø¬Ø§Ø²</span></div>
            <div class="stat-item"><span class="stat-num">5</span><span class="stat-label">Ø¯Ø±ÙˆØ³</span></div>
        </div>
        <div class="lesson-btn" onclick="startLesson('lesson2')"><span>ğŸ¯ Ø§Ù„ØªØ®Ù…ÙŠÙ† ÙˆØ§Ù„ØªØ­Ù‚Ù‚</span> â­</div>
    </div>

    <div id="lesson-screen" class="screen">
        <div class="reading-box" id="reading-text"></div>
        <div id="q-container" style="width:90%;"></div>
        <div id="explanation-box"></div>
        <button id="btn-next" class="btn-next" onclick="nextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â¬…ï¸</button>
    </div>

    <script>
        let stars = parseInt(localStorage.getItem('stars')) || 0;
        let completed = parseInt(localStorage.getItem('completed')) || 0;
        let currentQ = 1;

        document.getElementById('stars-display').innerText = stars + " â­";
        document.getElementById('done-display').innerText = completed;

        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(win) {
            const osc = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            osc.connect(g); g.connect(audioCtx.destination);
            osc.frequency.setValueAtTime(win ? 600 : 200, audioCtx.currentTime);
            g.gain.setValueAtTime(0.1, audioCtx.currentTime);
            osc.start(); osc.stop(audioCtx.currentTime + 0.3);
        }

        function startLesson(id) {
            document.getElementById('main-menu').classList.remove('active-screen');
            document.getElementById('lesson-screen').classList.add('active-screen');
            document.getElementById('reading-text').innerHTML = `<b>ğŸ“– Ø§Ù„Ù†Øµ:</b> Ø§Ø´ØªØ±Øª Ø³Ø§Ø±Ø© ÙƒØªØ§Ø¨ÙŠÙ† Ø¨Ù€ 45 Ø±ÙŠØ§Ù„Ø§Ù‹ØŒ ÙˆØ§Ù„Ø£ÙˆÙ„ ÙŠØ²ÙŠØ¯ Ø¹Ù† Ø§Ù„Ø«Ø§Ù†ÙŠ Ø¨Ù€ 9 Ø±ÙŠØ§Ù„Ø§Øª.`;
            loadQ(1);
        }

        function loadQ(num) {
            currentQ = num;
            const cont = document.getElementById('q-container');
            const expBox = document.getElementById('explanation-box');
            const btnNext = document.getElementById('btn-next');
            
            expBox.style.display = 'none';
            btnNext.style.display = 'none';

            if(num === 1) {
                cont.innerHTML = `<b>1ï¸âƒ£ Ù…Ø§ Ø§Ù„Ù…Ø¹Ø·ÙŠØ§ØªØŸ</b>
                    <div class="option" onclick="check(this,true,'Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª Ù‡ÙŠ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„ØªÙŠ ØªØ³Ø§Ø¹Ø¯Ù†Ø§ ÙÙŠ Ø§Ù„Ø­Ù„ØŒ ÙˆÙ‡ÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ ÙˆØ§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ø³Ø¹Ø±ÙŠÙ†.')">Ø¨) Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ 45 ÙˆØ§Ù„ÙØ±Ù‚ 9 <div class="circle">Ø£</div></div>
                    <div class="option" onclick="check(this,false)">Ø£) Ø­Ø¨ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© <div class="circle">Ø¨</div></div>`;
            } else if(num === 2) {
                cont.innerHTML = `<b>2ï¸âƒ£ Ù…Ø§ Ø§Ù„Ø­Ù„ Ø§Ù„ØµØ­ÙŠØ­ØŸ</b>
                    <div class="option" onclick="check(this,true,'Ø§Ù„Ø­Ù„ Ù‡Ùˆ 27 Ùˆ 18ØŒ Ù„Ø£Ù† Ø­Ø§ØµÙ„ Ø¬Ù…Ø¹Ù‡Ù…Ø§ 45 ÙˆØ§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ†Ù‡Ù…Ø§ 9 Ø±ÙŠØ§Ù„Ø§Øª ØªÙ…Ø§Ù…Ø§Ù‹ ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ù…Ø³Ø£Ù„Ø©.')">Ø£) 27 Ùˆ 18 <div class="circle">Ø£</div></div>
                    <div class="option" onclick="check(this,false)">Ø¨) 25 Ùˆ 20 <div class="circle">Ø¨</div></div>`;
            }
        }

        function check(el, isCorrect, explanation) {
            if(isCorrect) {
                playSound(true);
                el.classList.add('correct');
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¬ÙˆÙ… ÙˆØ­ÙØ¸Ù‡Ø§
                stars += 10;
                localStorage.setItem('stars', stars);
                document.getElementById('stars-display').innerText = stars + " â­";

                // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªÙˆØ¶ÙŠØ­
                const expBox = document.getElementById('explanation-box');
                expBox.innerHTML = "ğŸ’¡ <b>Ù„Ù…Ø§Ø°Ø§ Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©ØŸ</b><br>" + explanation;
                expBox.style.display = 'block';
                document.getElementById('btn-next').style.display = 'block';
                
                // ØªØ¹Ø·ÙŠÙ„ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
                const options = document.querySelectorAll('.option');
                options.forEach(opt => opt.style.pointerEvents = 'none');
            } else {
                playSound(false);
                el.classList.add('wrong');
                setTimeout(() => el.classList.remove('wrong'), 800);
            }
        }

        function nextQuestion() {
            if(currentQ === 1) loadQ(2);
            else {
                completed++;
                localStorage.setItem('completed', completed);
                alert("Ù…Ø¨Ø¯Ø¹Ø©! Ø£Ù†Ù‡ÙŠØªÙ Ø§Ù„Ø¯Ø±Ø³ ÙˆØ­ØµÙ„ØªÙ Ø¹Ù„Ù‰ Ù†Ø¬ÙˆÙ… Ø¬Ø¯ÙŠØ¯Ø© â­");
                location.reload();
            }
        }
    </script>
</body>
</html>
