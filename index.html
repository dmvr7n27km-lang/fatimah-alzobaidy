<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¨Ø¯Ø¹Ø© Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ - ÙØ§Ø·Ù…Ø© Ø§Ù„Ø²Ø¨ÙŠØ¯ÙŠ</title>
    <style>
        :root { --primary-pink: #e91e63; --soft-purple: #9c27b0; --bg-gradient: linear-gradient(135deg, #fff0f5 0%, #f3e5f5 100%); }
        body { background: var(--bg-gradient); font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }

        .official-header { width: 100%; text-align: right; padding: 15px 20px; font-size: 13px; font-weight: bold; color: #4a235a; line-height: 1.6; box-sizing: border-box; }
        .main-card { background: white; width: 90%; padding: 25px; border-radius: 25px; box-shadow: 0 10px 20px rgba(233,30,99,0.1); text-align: center; border: 1px solid #ffd1dc; margin-bottom: 20px; }
        .main-card h1 { color: var(--soft-purple); font-size: 24px; margin: 10px 0; }
        .teacher-info { color: var(--primary-pink); font-weight: bold; font-size: 16px; margin-bottom: 5px; }

        .stats-bar { display: flex; justify-content: space-around; background: white; width: 90%; padding: 15px 0; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.03); margin-bottom: 25px; }
        .stat-item { text-align: center; width: 33%; border-left: 1px solid #eee; }
        .stat-item:last-child { border-left: none; }
        .stat-num { display: block; font-size: 22px; font-weight: 900; color: #fb8c00; }

        .lesson-btn { background: white; width: 90%; padding: 18px; margin-bottom: 15px; border-radius: 20px; border: 2px solid #ffc1e3; display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: 0.3s; font-size: 18px; font-weight: bold; color: #5c3b8a; }
        .lesson-btn:hover { background: #fff9fb; border-color: var(--primary-pink); }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø§Ø³Ù… */
        #name-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 100; align-items: center; justify-content: center; }
        .modal-content { background: white; padding: 30px; border-radius: 25px; text-align: center; width: 85%; max-width: 400px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .input-name { width: 90%; padding: 12px; margin: 15px 0; border: 2px solid #ddd; border-radius: 12px; font-size: 16px; text-align: center; }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø±Ø³ */
        .screen { width: 100%; display: none; flex-direction: column; align-items: center; }
        .active-screen { display: flex; }
        .reading-box { background: white; width: 90%; padding: 20px; border-radius: 20px; margin: 15px 0; border-right: 8px solid var(--primary-pink); box-shadow: 0 4px 12px rgba(0,0,0,0.05); text-align: right; line-height: 1.8; }
        
        .q-card { width: 90%; background: white; padding: 20px; border-radius: 20px; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .option { background: #f8f9fa; border: 2px solid #eee; padding: 14px; margin: 10px 0; border-radius: 15px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; font-weight: bold; transition: 0.2s; }
        .circle { width: 32px; height: 32px; border: 2px solid #444; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; }
        
        .correct { background: #e8f5e9 !important; border-color: #4caf50 !important; color: #2e7d32; }
        .wrong { background: #ffebee !important; border-color: #f44336 !important; color: #c62828; }

        .btn-action { background: var(--primary-pink); color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; margin-top: 10px; width: 80%; }
    </style>
</head>
<body>

    <div id="main-menu" class="active-screen screen">
        <div class="official-header">
            Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©<br>
            ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…<br>
            Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø¨Ù…Ù†Ø·Ù‚Ø© Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©<br>
            Ø§Ù„Ù…Ø¯Ø±Ø³Ø©: Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø¨Ø§Ù„Ù„ÙŠØ«
        </div>
        <div class="main-card">
            <h1>ğŸŒ¸ Ù…ÙØ¨Ø¯Ø¹Ø© Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ ğŸŒ¸</h1>
            <div class="teacher-info">Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: ÙØ§Ø·Ù…Ø© Ø­Ø³Ù† Ø§Ù„Ø²Ø¨ÙŠØ¯ÙŠ</div>
            <div style="color: #9c27b0; font-size: 13px;">Ù…Ø§Ø¯Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª - Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ù…ØªÙˆØ³Ø·</div>
        </div>
        <div class="stats-bar">
            <div class="stat-item"><span class="stat-num" id="stars-display">0 â­</span><span class="stat-label">Ø§Ù„Ù†Ø¬ÙˆÙ…</span></div>
            <div class="stat-item"><span class="stat-num" id="done-display">0</span><span class="stat-label">Ø¥Ù†Ø¬Ø§Ø²</span></div>
            <div class="stat-item"><span class="stat-num">5</span><span class="stat-label">Ø¯Ø±ÙˆØ³</span></div>
        </div>
        <div style="width:90%; text-align:right; margin:10px; font-weight:bold; color:#4a235a;">Ø§Ø®ØªØ± Ø§Ù„Ø¯Ø±Ø³ â¬…ï¸</div>
        <div class="lesson-btn" onclick="askName('lesson2')"><span>ğŸ¯ Ø§Ù„ØªØ®Ù…ÙŠÙ† ÙˆØ§Ù„ØªØ­Ù‚Ù‚</span> â­</div>
        <div class="lesson-btn" onclick="askName('lesson1')" style="opacity: 0.7;"><span>ğŸ” Ø­Ù„ Ù…Ø³Ø£Ù„Ø© Ø£Ø¨Ø³Ø·</span> â­</div>
    </div>

    <div id="name-modal">
        <div class="modal-content">
            <h3 style="color:var(--soft-purple);">Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒÙ ÙŠØ§ Ù…Ø¨Ø¯Ø¹Ø©! ğŸŒŸ</h3>
            <p>ÙØ¶Ù„Ø§Ù‹ Ø§ÙƒØªØ¨ÙŠ Ø§Ø³Ù…ÙƒÙ Ù„Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</p>
            <input type="text" id="student-name" class="input-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨Ø© Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ">
            <button class="btn-action" onclick="confirmStart()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸš€</button>
        </div>
    </div>

    <div id="lesson-screen" class="screen">
        <div id="student-tag" style="padding:10px; color:var(--primary-pink); font-weight:bold;"></div>
        <div class="reading-box" id="reading-text"></div>
        <div id="q-container" class="q-card"></div>
    </div>

    <script>
        let stars = 0, completed = 0, studentName = '';
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSound(win) {
            const osc = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            osc.connect(g); g.connect(audioCtx.destination);
            osc.frequency.setValueAtTime(win ? 600 : 200, audioCtx.currentTime);
            if(win) osc.frequency.exponentialRampToValueAtTime(900, audioCtx.currentTime + 0.1);
            g.gain.setValueAtTime(0.1, audioCtx.currentTime);
            osc.start(); osc.stop(audioCtx.currentTime + 0.4);
        }

        function askName(id) { document.getElementById('name-modal').style.display = 'flex'; }

        function confirmStart() {
            studentName = document.getElementById('student-name').value;
            if(studentName.length < 3) return alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ø³Ù… ÙƒØ§Ù…Ù„Ø§Ù‹");
            document.getElementById('name-modal').style.display = 'none';
            document.getElementById('main-menu').classList.remove('active-screen');
            document.getElementById('lesson-screen').classList.add('active-screen');
            document.getElementById('student-tag').innerText = "Ø§Ù„Ù…Ø¨Ø¯Ø¹Ø©: " + studentName;
            startLesson();
        }

        function startLesson() {
            document.getElementById('reading-text').innerHTML = `
                <h3 style="color:var(--primary-teal); margin-top:0;">ğŸ“– Ù‚ØµØ© Ø³Ø§Ø±Ø© ÙˆØ§Ù„Ù…ÙƒØªØ¨Ø©:</h3>
                Ø§Ø´ØªØ±Øª Ø³Ø§Ø±Ø© ÙƒØªØ§Ø¨ÙŠÙ† Ø¨Ù…Ø¨Ù„Øº <b>45 Ø±ÙŠØ§Ù„Ø§Ù‹</b>. Ø¥Ø°Ø§ ÙƒØ§Ù† Ø«Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ø£ÙˆÙ„ ÙŠØ²ÙŠØ¯ Ø¹Ù† Ø§Ù„Ø«Ø§Ù†ÙŠ Ø¨Ù…Ù‚Ø¯Ø§Ø± <b>9 Ø±ÙŠØ§Ù„Ø§Øª</b>. Ø³Ø§Ø¹Ø¯ÙŠ Ø³Ø§Ø±Ø© ÙÙŠ Ø¥ÙŠØ¬Ø§Ø¯ Ø§Ù„Ø«Ù…Ù† Ø§Ù„ØµØ­ÙŠØ­ Ù„ÙƒÙ„ ÙƒØªØ§Ø¨ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© <b>Ø§Ù„ØªØ®Ù…ÙŠÙ† ÙˆØ§Ù„ØªØ­Ù‚Ù‚</b>.
            `;
            loadQ(1);
        }

        function loadQ(id) {
            const cont = document.getElementById('q-container');
            if(id === 1) {
                cont.innerHTML = `<b>1ï¸âƒ£ Ù…Ø§ Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙÙŠ Ø§Ù„Ù†ØµØŸ</b>
                    <div class="option" onclick="check(this,false)">Ø£) Ø³Ø§Ø±Ø© ØªØ­Ø¨ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© <div class="circle">Ø£</div></div>
                    <div class="option" onclick="check(this,true,2)">Ø¨) Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ 45 ÙˆØ§Ù„ÙØ±Ù‚ 9 <div class="circle">Ø¨</div></div>
                    <div class="option" onclick="check(this,false)">Ø¬) Ø«Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨ÙŠÙ† 100 Ø±ÙŠØ§Ù„ <div class="circle">Ø¬</div></div>
                    <div class="option" onclick="check(this,false)">Ø¯) Ø³Ø§Ø±Ø© Ø°Ù‡Ø¨Øª Ù…Ø¹ ØµØ¯ÙŠÙ‚ØªÙ‡Ø§ <div class="circle">Ø¯</div></div>`;
            } else if(id === 2) {
                cont.innerHTML = `<b>2ï¸âƒ£ Ø³Ø§Ø±Ø© Ø®Ù…Ù†Øª (25ØŒ 20) Ù„Ù…Ø§Ø°Ø§ Ù‡Ùˆ ØªØ®Ù…ÙŠÙ† Ø®Ø§Ø·Ø¦ØŸ</b>
                    <div class="option" onclick="check(this,false)">Ø£) Ù„Ø£Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ù„ÙŠØ³ 45 <div class="circle">Ø£</div></div>
                    <div class="option" onclick="check(this,false)">Ø¨) Ù„Ø£Ù† Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙƒØ¨ÙŠØ±Ø© <div class="circle">Ø¨</div></div>
                    <div class="option" onclick="check(this,true,3)">Ø¬) Ù„Ø£Ù† Ø§Ù„ÙØ±Ù‚ 5 ÙˆÙ„ÙŠØ³ 9 <div class="circle">Ø¬</div></div>
                    <div class="option" onclick="check(this,false)">Ø¯) Ù„Ø£Ù† Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø£ØºÙ„Ù‰ <div class="circle">Ø¯</div></div>`;
            } else if(id === 3) {
                cont.innerHTML = `<b>3ï¸âƒ£ Ù…Ø§ Ù‡Ùˆ Ø«Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„ØµØ­ÙŠØ­ØŸ</b>
                    <div class="option" onclick="check(this,false)">Ø£) 25 Ø±ÙŠØ§Ù„Ø§Ù‹ <div class="circle">Ø£</div></div>
                    <div class="option" onclick="check(this,false)">Ø¨) 30 Ø±ÙŠØ§Ù„Ø§Ù‹ <div class="circle">Ø¨</div></div>
                    <div class="option" onclick="check(this,true,'finish')">Ø¬) 27 Ø±ÙŠØ§Ù„Ø§Ù‹ <div class="circle">Ø¬</div></div>
                    <div class="option" onclick="check(this,false)">Ø¯) 18 Ø±ÙŠØ§Ù„Ø§Ù‹ <div class="circle">Ø¯</div></div>`;
            }
        }

        function check(el, isCorrect, next) {
            if(isCorrect) {
                playSound(true); el.classList.add('correct'); stars += 10;
                setTimeout(() => {
                    if(next === 'finish') { 
                        completed++; 
                        alert("Ø±Ø§Ø¦Ø¹Ø© ÙŠØ§ Ù…Ø¨Ø¯Ø¹Ø©! " + studentName + " Ø­ØµÙ„ØªÙ Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø¬Ø© ÙƒØ§Ù…Ù„Ø© âœ…"); 
                        location.reload(); 
                    } else loadQ(next);
                }, 800);
            } else {
                playSound(false); el.classList.add('wrong');
                setTimeout(() => el.classList.remove('wrong'), 800);
            }
        }
    </script>
</body>
</html>
