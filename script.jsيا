// Ø¨ÙŠØ§Ù†Ø§Øª Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù†
const quranSurahs = [
    { name: 'Ø§Ù„Ø¨Ù‚Ø±Ø©', verses: 286 },
    { name: 'Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†', verses: 200 },
    { name: 'Ø§Ù„Ù†Ø³Ø§Ø¡', verses: 176 },
    { name: 'Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©', verses: 120 },
    { name: 'Ø§Ù„Ø£Ù†Ø¹Ø§Ù…', verses: 165 },
    { name: 'Ø§Ù„Ø£Ø¹Ø±Ø§Ù', verses: 206 },
    { name: 'Ø§Ù„Ø£Ù†ÙØ§Ù„', verses: 75 },
    { name: 'Ø§Ù„ØªÙˆØ¨Ø©', verses: 129 },
    { name: 'ÙŠÙˆÙ†Ø³', verses: 109 },
    { name: 'Ù‡ÙˆØ¯', verses: 123 },
    { name: 'ÙŠÙˆØ³Ù', verses: 111 },
    { name: 'Ø§Ù„Ø±Ø¹Ø¯', verses: 43 },
    { name: 'Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…', verses: 52 },
    { name: 'Ø§Ù„Ø­Ø¬Ø±', verses: 99 },
    { name: 'Ø§Ù„Ù†Ø­Ù„', verses: 128 },
    { name: 'Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡', verses: 111 },
    { name: 'Ø§Ù„ÙƒÙ‡Ù', verses: 110 },
    { name: 'Ù…Ø±ÙŠÙ…', verses: 98 },
    { name: 'Ø·Ù‡', verses: 135 },
    { name: 'Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡', verses: 112 },
    { name: 'Ø§Ù„Ø­Ø¬', verses: 78 },
    { name: 'Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†', verses: 118 },
    { name: 'Ø§Ù„Ù†ÙˆØ±', verses: 64 },
    { name: 'Ø§Ù„ÙØ±Ù‚Ø§Ù†', verses: 77 },
    { name: 'Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡', verses: 227 },
    { name: 'Ø§Ù„Ù†Ù…Ù„', verses: 93 },
    { name: 'Ø§Ù„Ù‚ØµØµ', verses: 88 },
    { name: 'Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª', verses: 69 },
    { name: 'Ø§Ù„Ø±ÙˆÙ…', verses: 60 },
    { name: 'Ù„Ù‚Ù…Ø§Ù†', verses: 34 },
    { name: 'Ø§Ù„Ø³Ø¬Ø¯Ø©', verses: 30 },
    { name: 'Ø§Ù„Ø£Ø­Ø²Ø§Ø¨', verses: 73 },
    { name: 'Ø³Ø¨Ø£', verses: 54 },
    { name: 'ÙØ§Ø·Ø±', verses: 45 },
    { name: 'ÙŠØ³', verses: 83 },
    { name: 'Ø§Ù„ØµØ§ÙØ§Øª', verses: 182 },
    { name: 'Øµ', verses: 88 },
    { name: 'Ø§Ù„Ø²Ù…Ø±', verses: 75 },
    { name: 'ØºØ§ÙØ±', verses: 85 },
    { name: 'ÙØµÙ„Øª', verses: 54 },
    { name: 'Ø§Ù„Ø´ÙˆØ±Ù‰', verses: 53 },
    { name: 'Ø§Ù„Ø²Ø®Ø±Ù', verses: 89 },
    { name: 'Ø§Ù„Ø¯Ø®Ø§Ù†', verses: 59 },
    { name: 'Ø§Ù„Ø¬Ø§Ø«ÙŠØ©', verses: 37 },
    { name: 'Ø§Ù„Ø£Ø­Ù‚Ø§Ù', verses: 35 },
    { name: 'Ù…Ø­Ù…Ø¯', verses: 38 },
    { name: 'Ø§Ù„ÙØªØ­', verses: 29 },
    { name: 'Ø§Ù„Ø­Ø¬Ø±Ø§Øª', verses: 18 },
    { name: 'Ù‚', verses: 45 },
    { name: 'Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª', verses: 60 },
    { name: 'Ø§Ù„Ø·ÙˆØ±', verses: 49 },
    { name: 'Ø§Ù„Ù†Ø¬Ù…', verses: 62 },
    { name: 'Ø§Ù„Ù‚Ù…Ø±', verses: 55 },
    { name: 'Ø§Ù„Ø±Ø­Ù…Ù†', verses: 78 },
    { name: 'Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©', verses: 96 },
    { name: 'Ø§Ù„Ø­Ø¯ÙŠØ¯', verses: 29 },
    { name: 'Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©', verses: 22 },
    { name: 'Ø§Ù„Ø­Ø´Ø±', verses: 24 },
    { name: 'Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©', verses: 13 },
    { name: 'Ø§Ù„ØµÙ', verses: 14 },
    { name: 'Ø§Ù„Ø¬Ù…Ø¹Ø©', verses: 11 },
    { name: 'Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†', verses: 11 },
    { name: 'Ø§Ù„ØªØºØ§Ø¨Ù†', verses: 18 },
    { name: 'Ø§Ù„Ø·Ù„Ø§Ù‚', verses: 12 },
    { name: 'Ø§Ù„ØªØ­Ø±ÙŠÙ…', verses: 12 },
    { name: 'Ø§Ù„Ù…Ù„Ùƒ', verses: 30 },
    { name: 'Ø§Ù„Ù‚Ù„Ù…', verses: 52 },
    { name: 'Ø§Ù„Ø­Ø§Ù‚Ø©', verses: 52 },
    { name: 'Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬', verses: 44 },
    { name: 'Ù†ÙˆØ­', verses: 28 },
    { name: 'Ø§Ù„Ø¬Ù†', verses: 28 },
    { name: 'Ø§Ù„Ù…Ø²Ù…Ù„', verses: 20 },
    { name: 'Ø§Ù„Ù…Ø¯Ø«Ø±', verses: 56 },
    { name: 'Ø§Ù„Ù‚ÙŠØ§Ù…Ø©', verses: 40 },
    { name: 'Ø§Ù„Ø¥Ù†Ø³Ø§Ù†', verses: 31 },
    { name: 'Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª', verses: 50 },
    { name: 'Ø§Ù„Ù†Ø¨Ø£', verses: 40 },
    { name: 'Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª', verses: 46 },
    { name: 'Ø¹Ø¨Ø³', verses: 42 },
    { name: 'Ø§Ù„ØªÙƒÙˆÙŠØ±', verses: 29 },
    { name: 'Ø§Ù„Ø¥Ù†ÙØ·Ø§Ø±', verses: 19 },
    { name: 'Ø§Ù„Ù…Ø·ÙÙÙŠÙ†', verses: 36 },
    { name: 'Ø§Ù„Ø§Ù†Ø´Ù‚Ø§Ù‚', verses: 25 },
    { name: 'Ø§Ù„Ø¨Ø±ÙˆØ¬', verses: 22 },
    { name: 'Ø§Ù„Ø·Ø§Ø±Ù‚', verses: 17 },
    { name: 'Ø§Ù„Ø£Ø¹Ù„Ù‰', verses: 19 },
    { name: 'Ø§Ù„ØºØ§Ø´ÙŠØ©', verses: 26 },
    { name: 'Ø§Ù„ÙØ¬Ø±', verses: 30 },
    { name: 'Ø§Ù„Ø¨Ù„Ø¯', verses: 20 },
    { name: 'Ø§Ù„Ø´Ù…Ø³', verses: 15 },
    { name: 'Ø§Ù„Ù„ÙŠÙ„', verses: 21 },
    { name: 'Ø§Ù„Ø¶Ø­Ù‰', verses: 11 },
    { name: 'Ø§Ù„Ø´Ø±Ø­', verses: 8 },
    { name: 'Ø§Ù„ØªÙŠÙ†', verses: 8 },
    { name: 'Ø§Ù„Ø¹Ù„Ù‚', verses: 19 },
    { name: 'Ø§Ù„Ù‚Ø¯Ø±', verses: 5 },
    { name: 'Ø§Ù„Ø¨ÙŠÙ†Ø©', verses: 8 },
    { name: 'Ø§Ù„Ø²Ù„Ø²Ù„Ø©', verses: 8 },
    { name: 'Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª', verses: 11 },
    { name: 'Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©', verses: 11 },
    { name: 'Ø§Ù„ØªÙƒØ§Ø«Ø±', verses: 8 },
    { name: 'Ø§Ù„Ø¹ØµØ±', verses: 3 },
    { name: 'Ø§Ù„Ù‡Ù…Ø²Ø©', verses: 9 },
    { name: 'Ø§Ù„ÙÙŠÙ„', verses: 5 },
    { name: 'Ù‚Ø±ÙŠØ´', verses: 4 },
    { name: 'Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†', verses: 7 },
    { name: 'Ø§Ù„ÙƒÙˆØ«Ø±', verses: 3 },
    { name: 'Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†', verses: 6 },
    { name: 'Ø§Ù„Ù†ØµØ±', verses: 3 },
    { name: 'Ø§Ù„Ù…Ø³Ø¯', verses: 5 },
    { name: 'Ø§Ù„Ø¥Ø®Ù„Ø§Øµ', verses: 4 },
    { name: 'Ø§Ù„ÙÙ„Ù‚', verses: 5 },
    { name: 'Ø§Ù„Ù†Ø§Ø³', verses: 6 }
];

// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø°ÙƒØ§Ø±
const azkaar = [
    { text: 'Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…', count: 'Ù…Ø§Ø¦Ø© Ù…Ø±Ø©' },
    { text: 'Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±', count: 'Ù…Ø§Ø¦Ø© Ù…Ø±Ø©' },
    { text: 'Ø§Ù„Ù„Ù‡Ù… ØµÙ„ ÙˆØ³Ù„Ù… Ø¹Ù„Ù‰ Ù†Ø¨ÙŠÙ†Ø§ Ù…Ø­Ù…Ø¯', count: 'Ø¹Ø´Ø± Ù…Ø±Ø§Øª' },
    { text: 'Ø§Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ… Ø§Ù„Ø°ÙŠ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠ Ø§Ù„Ù‚ÙŠÙˆÙ… ÙˆØ£ØªÙˆØ¨ Ø¥Ù„ÙŠÙ‡', count: 'Ø³Ø¨Ø¹ Ù…Ø±Ø§Øª' },
    { text: 'Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ù„ÙŠ Ø§Ù„Ø¹Ø¸ÙŠÙ…', count: 'Ù…Ø§Ø¦Ø© Ù…Ø±Ø©' },
    { text: 'Ø­Ø³Ø¨Ù†Ø§ Ø§Ù„Ù„Ù‡ ÙˆÙ†Ø¹Ù… Ø§Ù„ÙˆÙƒÙŠÙ„', count: 'Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª' },
    { text: 'Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø§Ù„Ù‡Ù… ÙˆØ§Ù„Ø­Ø²Ù†', count: 'ØµØ¨Ø§Ø­Ø§Ù‹ ÙˆÙ…Ø³Ø§Ø¡Ù‹' },
    { text: 'Ø±Ø¨ Ø§ØºÙØ± Ù„ÙŠ ÙˆÙ„Ù„Ù…Ø¤Ù…Ù†ÙŠÙ† ÙˆØ§Ù„Ù…Ø¤Ù…Ù†Ø§Øª', count: 'ÙÙŠ Ø§Ù„Ø³Ø¬ÙˆØ¯' },
    { text: 'Ø³Ù…Ø¹ Ø§Ù„Ù„Ù‡ Ù„Ù…Ù† Ø­Ù…Ø¯Ù‡ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠÙ†', count: 'ÙÙŠ Ø§Ù„ØµÙ„Ø§Ø©' },
    { text: 'Ø§Ù„Ù„Ù‡Ù… Ø£Ù†Øª Ø§Ù„Ø³Ù„Ø§Ù… ÙˆÙ…Ù†Ùƒ Ø§Ù„Ø³Ù„Ø§Ù…ØŒ ØªØ¨Ø§Ø±ÙƒØª ÙŠØ§ Ø°Ø§ Ø§Ù„Ø¬Ù„Ø§Ù„ ÙˆØ§Ù„Ø¥ÙƒØ±Ø§Ù…', count: 'ÙÙŠ Ø§Ù„ØªØ³Ù„ÙŠÙ…' }
];

// Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªÙ‡Ù†Ø¦Ø©
const greetingCards = [
    { emoji: 'ğŸŒ™', text: 'ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ£Ù†ØªÙ… Ø¨Ø£Ù„Ù Ø®ÙŠØ±' },
    { emoji: 'âœ¨', text: 'Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ…' },
    { emoji: 'ğŸ’š', text: 'Ø±Ù…Ø¶Ø§Ù† Ù…Ø¨Ø§Ø±Ùƒ' },
    { emoji: 'ğŸ•Œ', text: 'ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ£Ù†ØªÙ… Ø£Ù‚Ø±Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ù†Ø©' },
    { emoji: 'ğŸ¤²', text: 'Ø§Ù„Ù„Ù‡Ù… Ø¨Ù„ØºÙ†Ø§ Ø±Ù…Ø¶Ø§Ù†' },
    { emoji: 'ğŸ“–', text: 'Ø±Ù…Ø¶Ø§Ù† Ø´Ù‡Ø± Ø§Ù„Ù‚Ø±Ø¢Ù†' },
    { emoji: 'â­', text: 'Ø±Ù…Ø¶Ø§Ù† Ø´Ù‡Ø± Ø§Ù„Ø®ÙŠØ±' },
    { emoji: 'ğŸŒ¸', text: 'Ù…Ø¨Ø§Ø±Ùƒ Ø¹Ù„ÙŠÙƒÙ… Ø§Ù„Ø´Ù‡Ø±' },
    { emoji: 'ğŸ’œ', text: 'Ø±Ù…Ø¶Ø§Ù† ÙÙŠ Ù‚Ù„ÙˆØ¨Ù†Ø§' },
    { emoji: 'ğŸ‰', text: 'ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ§Ù„Ø¥Ø³Ù„Ø§Ù… Ø£Ø¹Ø² ÙˆØ£ÙƒØ±Ù…' }
];

// Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø®ØªØ§Ø±
function showSection(sectionId) {
    // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
    const sections = document.querySelectorAll('.section');
    sections.forEach(section => {
        section.classList.remove('active');
    });
    
    // Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø®ØªØ§Ø±
    const activeSection = document.getElementById(sectionId);
    if (activeSection) {
        activeSection.classList.add('active');
    }
    
    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø®ØªØ§Ø±
    if (sectionId === 'quran') {
        loadQuran();
    } else if (sectionId === 'azkaar') {
        loadAzkaar();
    } else if (sectionId === 'cards') {
        loadCards();
    }
}

// Ø¯Ø§Ù„Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù†
function loadQuran() {
    const quranGrid = document.getElementById('quranGrid');
    quranGrid.innerHTML = '';
    
    quranSurahs.forEach((surah, index) => {
        const item = document.createElement('div');
        item.className = 'quran-item';
        item.innerHTML = `
            <div class="quran-name">${surah.name}</div>
            <div class="quran-verses">${surah.verses} Ø¢ÙŠØ©</div>
        `;
        item.onclick = () => openQuranSurah(surah.name);
        quranGrid.appendChild(item);
    });
}

// Ø¯Ø§Ù„Ø© Ù„Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø³ÙˆØ±
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('quranSearch');
    if (searchInput) {
        searchInput.addEventListener('input', function(e) {
            const searchTerm = e.target.value;
            const filtered = quranSurahs.filter(surah => 
                surah.name.includes(searchTerm)
            );
            
            const quranGrid = document.getElementById('quranGrid');
            quranGrid.innerHTML = '';
            
            filtered.forEach((surah, index) => {
                const item = document.createElement('div');
                item.className = 'quran-item';
                item.innerHTML = `
                    <div class="quran-name">${surah.name}</div>
                    <div class="quran-verses">${surah.verses} Ø¢ÙŠØ©</div>
                `;
                item.onclick = () => openQuranSurah(surah.name);
                quranGrid.appendChild(item);
            });
        });
    }
});

// Ø¯Ø§Ù„Ø© Ù„ÙØªØ­ Ø§Ù„Ø³ÙˆØ±Ø© (ÙŠÙ…ÙƒÙ† Ø±Ø¨Ø·Ù‡Ø§ Ø¨Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ)
function openQuranSurah(surahName) {
    alert('Ø³ÙˆØ±Ø© ' + surahName + ' - ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø· Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø³ÙˆØ±Ø©');
}

// Ø¯Ø§Ù„Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø°ÙƒØ§Ø±
function loadAzkaar() {
    const azkaarContainer = document.querySelector('.azkaar-container');
    azkaarContainer.innerHTML = '';
    
    azkaar.forEach(dhikr => {
        const card = document.createElement('div');
        card.className = 'dhikr-card';
        card.innerHTML = `
            <div class="dhikr-text">${dhikr.text}</div>
            <div class="dhikr-count">${dhikr.count}</div>
        `;
        azkaarContainer.appendChild(card);
    });
}

// Ø¯Ø§Ù„Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªÙ‡Ù†Ø¦Ø©
function loadCards() {
    const cardsContainer = document.getElementById('cardsContainer');
    cardsContainer.innerHTML = '';
    
    greetingCards.forEach((card, index) => {
        const cardElement = document.createElement('div');
        cardElement.className = 'greeting-card';
        cardElement.innerHTML = `
            <div class="greeting-emoji">${card.emoji}</div>
            <div class="greeting-text">${card.text}</div>
            <button class="greeting-download" onclick="downloadCard(${index})">ğŸ“¥ ØªØ­Ù…ÙŠÙ„</button>
        `;
        cardsContainer.appendChild(cardElement);
    });
}

// Ø¯Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ÙƒØµÙˆØ±Ø©
function downloadCard(index) {
    const card = greetingCards[index];
    const canvas = document.createElement('canvas');
    canvas.width = 600;
    canvas.height = 600;
    const ctx = canvas.getContext('2d');
    
    // Ø®Ù„ÙÙŠØ© Ù…ØªØ¯Ø±Ø¬Ø©
    const gradient = ctx.createLinearGradient(0, 0, 600, 600);
    gradient.addColorStop(0, '#9B59B6');
    gradient.addColorStop(1, '#E91E8C');
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, 600, 600);
    
    // Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ
    ctx.font = 'bold 120px Arial';
    ctx.textAlign = 'center';
    ctx.fillText(card.emoji, 300, 200);
    
    // Ø§Ù„Ù†Øµ
    ctx.font = 'bold 48px Tajawal, Cairo';
    ctx.fillStyle = '#F1C40F';
    ctx.textAlign = 'center';
    const maxWidth = 500;
    wrapText(ctx, card.text, 300, 350, maxWidth, 60);
    
    // ØªØ­Ù…ÙŠÙ„
    const link = document.createElement('a');
    link.href = canvas.toDataURL('image/png');
    link.download = 'ramadan-greeting.png';
    link.click();
}

// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ÙƒØªØ§Ø¨Ø© Ù†Øµ Ù…Ù„ØªÙÙ‘
function wrapText(context, text, x, y, maxWidth, lineHeight) {
    const words = text.split(' ');
    let line = '';
    
    for (let i = 0; i < words.length; i++) {
        const testLine = line + words[i] + ' ';
        const metrics = context.measureText(testLine);
        
        if (metrics.width > maxWidth && i > 0) {
            context.fillText(line, x, y);
            line = words[i] + ' ';
            y += lineHeight;
        } else {
            line = testLine;
        }
    }
    context.fillText(line, x, y);
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¯Ø¹Ø§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­
window.addEventListener('load', function() {
    const duaaAudio = document.getElementById('duaaAudio');
    if (duaaAudio) {
        duaaAudio.play().catch(err => console.log('Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹'));
    }
    
    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠ
    showSection('home');
});

// ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
function updateProgress() {
    const progressFill = document.getElementById('progressFill');
    const progress = Math.random() * 100;
    if (progressFill) {
        progressFill.style.width = progress + '%';
    }
}

// Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù… Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
document.addEventListener('DOMContentLoaded', updateProgress);
